import{_ as h,c as g,i as b,o as E,a as r,b as e,u as n,t as a,f as k,g as i}from"./index-Cp2leT6j.js";import{u as w}from"./expense-B1I-Xo3m.js";import{u as D}from"./category-_7hyEaxh.js";const C={class:"expense-details"},N={key:0,class:"loading"},A={key:1,class:"error"},L={key:2,class:"not-found"},B={key:3,class:"expense-card"},S={class:"expense-header"},V={class:"amount"},F={class:"expense-info"},I={class:"info-row"},P={class:"value"},R={class:"info-row"},M={class:"value"},U={class:"info-row"},j={class:"value"},q={class:"info-row"},z={class:"value"},G={__name:"ExpenseDetailsView",setup(H){const p=b(),d=k(),o=w(),u=D(),c=g(()=>p.params.id),l=t=>{if(!t)return"N/A";const s={year:"numeric",month:"long",day:"numeric"};return new Date(t).toLocaleDateString(void 0,s)},_=t=>t==null?"N/A":new Intl.NumberFormat("pl-PL",{style:"currency",currency:"PLN"}).format(t),x=t=>{if(!t)return"N/A";const s=u.categories.find(y=>y.id===t);return s?s.name:"N/A"},f=()=>{d.push({name:"expense-edit",params:{id:c.value}})},v=async()=>{if(confirm("Are you sure you want to delete this expense?"))try{await o.deleteExpense(c.value),alert("Expense deleted successfully"),d.push({name:"expenses"})}catch{alert("Error deleting expense")}},m=()=>{d.push({name:"expenses"})};return E(async()=>{try{await u.fetchCategories(),await o.fetchExpense(c.value)}catch(t){console.error("Failed to fetch data:",t)}}),(t,s)=>(i(),r("div",C,[s[4]||(s[4]=e("h1",null,"Expense Details",-1)),n(o).loading?(i(),r("div",N," Loading expense details... ")):n(o).error?(i(),r("div",A,a(n(o).error),1)):n(o).expense?(i(),r("div",B,[e("div",S,[e("h2",null,a(n(o).expense.name),1),e("div",V,a(_(n(o).expense.amount)),1)]),e("div",F,[e("div",I,[s[0]||(s[0]=e("div",{class:"label"},"Category:",-1)),e("div",P,a(x(n(o).expense.category_id)),1)]),e("div",R,[s[1]||(s[1]=e("div",{class:"label"},"Date:",-1)),e("div",M,a(l(n(o).expense.date)),1)]),e("div",U,[s[2]||(s[2]=e("div",{class:"label"},"Created:",-1)),e("div",j,a(l(n(o).expense.created_at)),1)]),e("div",q,[s[3]||(s[3]=e("div",{class:"label"},"Last Updated:",-1)),e("div",z,a(l(n(o).expense.updated_at)),1)])]),e("div",{class:"actions"},[e("button",{onClick:m,class:"back-button"},"Back to List"),e("button",{onClick:f,class:"edit-button"},"Edit"),e("button",{onClick:v,class:"delete-button"},"Delete")])])):(i(),r("div",L," Expense not found. "))]))}},Q=h(G,[["__scopeId","data-v-1dae944c"]]);export{Q as default};
