import{_ as h,c as g,i as b,o as D,a as n,b as t,u as a,t as i,f as k,g as d}from"./index-Cp2leT6j.js";import{u as z}from"./deposit-CE66YNY9.js";import{u as N}from"./category-_7hyEaxh.js";const C={class:"deposit-details"},S={key:0,class:"loading"},A={key:1,class:"error"},B={key:2,class:"not-found"},x={key:3,class:"deposit-card"},L={class:"deposit-header"},P={class:"amount"},V={class:"deposit-info"},j={class:"info-row"},E={class:"value"},F={class:"info-row"},I={class:"value"},R={class:"info-row"},U={class:"value"},W={class:"info-row"},K={class:"value"},M={__name:"DepositDetailsView",setup(O){const p=b(),r=k(),o=z(),u=N(),c=g(()=>p.params.id),l=e=>{if(!e)return"N/A";const s={year:"numeric",month:"long",day:"numeric"};return new Date(e).toLocaleDateString(void 0,s)},_=e=>e==null?"N/A":new Intl.NumberFormat("pl-PL",{style:"currency",currency:"PLN"}).format(e),f=e=>{if(!e)return"N/A";const s=u.categories.find(w=>w.id===e);return s?s.name:"N/A"},m=()=>{r.push({name:"deposit-edit",params:{id:c.value}})},v=async()=>{if(confirm("Czy na pewno chcesz usunąć tę wpłatę?"))try{await o.deleteDeposit(c.value),alert("Wpłata usunięta pomyślnie"),r.push({name:"deposits"})}catch{alert("Błąd podczas usuwania wpłaty")}},y=()=>{r.push({name:"deposits"})};return D(async()=>{try{await u.fetchCategories(),await o.fetchDeposit(c.value)}catch(e){console.error("Failed to fetch data:",e)}}),(e,s)=>(d(),n("div",C,[s[4]||(s[4]=t("h1",null,"Szczegóły wpłaty",-1)),a(o).loading?(d(),n("div",S," Ładowanie szczegółów wpłaty... ")):a(o).error?(d(),n("div",A,i(a(o).error),1)):a(o).deposit?(d(),n("div",x,[t("div",L,[t("h2",null,i(a(o).deposit.name),1),t("div",P,i(_(a(o).deposit.amount)),1)]),t("div",V,[t("div",j,[s[0]||(s[0]=t("div",{class:"label"},"Kategoria:",-1)),t("div",E,i(f(a(o).deposit.category_id)),1)]),t("div",F,[s[1]||(s[1]=t("div",{class:"label"},"Data:",-1)),t("div",I,i(l(a(o).deposit.date)),1)]),t("div",R,[s[2]||(s[2]=t("div",{class:"label"},"Utworzono:",-1)),t("div",U,i(l(a(o).deposit.created_at)),1)]),t("div",W,[s[3]||(s[3]=t("div",{class:"label"},"Ostatnia aktualizacja:",-1)),t("div",K,i(l(a(o).deposit.updated_at)),1)])]),t("div",{class:"actions"},[t("button",{onClick:y,class:"back-button"},"Powrót do listy"),t("button",{onClick:m,class:"edit-button"},"Edytuj"),t("button",{onClick:v,class:"delete-button"},"Usuń")])])):(d(),n("div",B," Wpłata nie znaleziona. "))]))}},J=h(M,[["__scopeId","data-v-bf6e3475"]]);export{J as default};
